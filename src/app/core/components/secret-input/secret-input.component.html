<mat-form-field>
    <input 
        #input
        [type]="visibility ? 'text' : 'password'" 
        matInput 
        placeholder="Secret"
        (change)="secret.emit(input.value)"    
    >
    <button 
        mat-button 
        matSuffix 
        mat-icon-button 
        (click)="toggleVisibility()"
    >
        <mat-icon>{{visibility ? 'visibility_off': 'visibility'}}</mat-icon>
    </button>
</mat-form-field>